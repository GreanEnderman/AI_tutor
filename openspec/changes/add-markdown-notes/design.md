## 背景
基础知识中心模块需要功能性的笔记记录能力。当前实现具有占位符功能和欢迎屏幕。应用程序已包含可用于笔记功能的 markdown 渲染库（marked.js、KaTeX、Prism.js）。

## 目标 / 非目标
- 目标：
  - 创建带有实时预览的 markdown 笔记
  - 使用 localStorage 在本地存储笔记
  - 支持基本笔记管理（CRUD 操作）
  - 与现有 UI 设计模式集成
  - 支持数学公式和代码高亮
- 非目标：
  - 云同步
  - 协作编辑
  - 超出 markdown 的高级格式
  - 笔记导入/导出（除了基本的复制粘贴）

## 决策
- **分屏编辑器**：左侧面板用于 markdown 编辑，右侧面板用于实时预览
- **LocalStorage 存储**：简单的客户端持久化，无需后端要求
- **实时预览**：用户输入时更新以提供即时反馈
- **仅 Markdown 格式**：利用现有库进行一致的渲染
- **最小工具栏**：基本格式化按钮和文件操作

**考虑的替代方案：**
- 全屏编辑器与切换预览：对于快速编辑效率较低
- 富文本 WYSIWYG：比 markdown 更复杂，可移植性更差
- 数据库存储：对于本地笔记需求来说过于复杂

## 风险 / 权衡
- **LocalStorage 限制**：存储空间有限（约5MB），清除浏览器缓存时数据丢失
  - **缓解措施**：添加导出/导入功能，存储使用警告
- **性能**：大型笔记可能导致实时预览延迟
  - **缓解措施**：防抖预览更新，实现延迟渲染
- **移动体验**：分屏在小设备上可能显得拥挤
  - **缓解措施**：响应式设计，在移动设备上使用标签页界面

## 迁移计划
1. 添加新的笔记创建/编辑 UI 组件
2. 实现笔记数据模型和存储层
3. 用实际实现替换占位符功能
4. 添加笔记管理功能（列表、搜索、删除）
5. 更新导航和用户流程

## 未决问题
- 笔记应该按文件夹还是标签组织？
- localStorage 的最大合理笔记大小是多少？
- 我们应该实现自动保存还是需要手动保存？